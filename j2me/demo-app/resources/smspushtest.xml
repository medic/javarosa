<h:html xmlns="http://www.w3.org/2002/xforms"
        xmlns:h="http://www.w3.org/1999/xhtml"
        xmlns:ev="http://www.w3.org/2001/xml-events"
        xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:jr="http://openrosa.org/javarosa">
  <h:head>
    <h:title>SMS Transport Submit Test</h:title>

    <model>
    
      <instance>
        <data xmlns="http://openrosa.org/testforms/smspush" version="1" uiVersion="1">
        	<first>
        		<a/>
        		<b>stuff</b>
        	</first>
        	<second/>
        	<third>stuff</third>
        	
        	<smsblock xmlns="http://openrosa.org/smsdata" delimeter=" " prefix="OR-SMST">
                    <mandatory/>
                    <optional tag="+OPT" />
                    <alsooptional tag="+AOPT" />
            </smsblock>
        </data>
      </instance>

      <bind nodeset="/data/first/a" required="true()"/>
      
      <bind nodeset="/data/smsblock/mandatory" calculate="/data/first/a"/>
      <bind nodeset="/data/smsblock/optional" relevant="/data/second != ''" calculate="/data/second"/>
      <bind nodeset="/data/smsblock/alsooptional" relevant="/data/third != ''" calculate="/data/third"/>

	  <submission ref="/data/smsblock" method="smspush" action="sms://+15053638405"/>  

    </model>
  </h:head>
  <h:body>
  
  <input ref="/data/first/a">
  	<label>Input Mandatory Value</label>
   </input>
   
   <input ref="/data/second">
  	<label>Optional Value</label>
   </input>
   
   <input ref="/data/third">
  	<label>Another Optional Field</label>
   </input>
  
  </h:body>
</h:html>